class Solution {
public:
    vector<int> partitionLabels(string s) {
      vector<int>res;
      vector<int>end_idx(26,0);
      for(int i=0;i<s.size();i++)          //last occurrence of each character
      {
          end_idx[s[i]-'a']=i;
      }
      int st=0,end=0;
      for(int i=0;i<s.size();i++)
      {
          end = max(end,end_idx[s[i]-'a']);
          if(i==end)
          {
              res.push_back(end-st+1);
              st=end+1;
          }
      }
      return res;
    }
};

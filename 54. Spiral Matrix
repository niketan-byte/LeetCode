class Solution {
public:
    vector<int> spiralOrder(vector<vector<int>>& mat) {
        int direction=1;
        int m = mat.size();
        int n = mat[0].size();

        int st_row=0;
        int end_row=m-1;
        int st_col = 0;
        int end_col=n-1;
        vector<int>ans;
        while(st_row<=end_row && st_col<=end_col)
        {
            if(direction==1){
            for(int i=st_col;i<=end_col;i++)
            {
                ans.push_back(mat[st_row][i]);
            }
            st_row++;
            direction=2;
            }
           
            else if(direction==2){
            for(int i=st_row;i<=end_row;i++)
            {
                ans.push_back(mat[i][end_col]);
            }
            end_col--;
            direction=3;
            }

            else if(direction==3){
            for(int i=end_col;i>=st_col;i--)
            {
                ans.push_back(mat[end_row][i]);
            }
            end_row--;
            direction=4;
            }

            else if(direction==4){
            for(int i=end_row;i>=st_row;i--)
            {
                ans.push_back(mat[i][st_col]);
            }
            st_col++;
            direction=1;
            }
        }
        
        return ans;
    }
};

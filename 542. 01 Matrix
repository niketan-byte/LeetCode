class Solution {
public:
    vector<vector<int>> updateMatrix(vector<vector<int>>& mat) {
        int m=mat.size(),n=mat[0].size();
        for(int r=0;r<m;r++)
        {
            for(int c=0;c<n;c++)
            {
                int top=m+n,left=m+n;
                if(mat[r][c]==0)
                {
                    continue;
                }
                else{
                    if(r>=1)
                    {
                     top = mat[r-1][c];
                    }
                    if(c>=1)
                    {
                     left = mat[r][c-1];
                    }
                    mat[r][c]=min(top,left)+1;
                }
            }
        }

        for(int r=m-1;r>=0;r--)
        {
            for(int c=n-1;c>=0;c--)
            {
                int bottom = m+n,right = m+n;
                if(mat[r][c]==0)
                {
                    continue;
                }
                else{
                    if(r<m-1)
                    {
                    bottom = mat[r+1][c];
                    }
                    if(c<n-1)
                    {
                      right = mat[r][c+1];
                    }
                    mat[r][c]=min(mat[r][c],min(bottom,right)+1);
                }
            }
        }
        return mat;
    }
};
